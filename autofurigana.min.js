const is_kanji=n=>/[\u3000-\u303F\u4E00-\u9FEF]/.test(n),autofurigana=(n,i)=>{let t=[],e=0,l="",u="";const a=()=>{t.push([u,l]),l="",u=""};for(let t=0;t<n.length;t++){if(u+=n[t],t+1==n.length){for(;e<i.length;)l+=i[e],e++;is_kanji(n[t])||(l=null),a();break}if(is_kanji(n[t])&&!is_kanji(n[t+1])){for(;n[t+1]!==i[e]||l.length<u.length;){if(void 0===i[e])return null;l+=i[e],e++}a()}else!is_kanji(n[t])&&is_kanji(n[t+1])&&(l=null,e+=u.length,a())}return t};export{autofurigana};